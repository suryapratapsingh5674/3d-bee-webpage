import*as s from"https://cdn.skypack.dev/three@0.129.0/build/three.module.js";import{GLTFLoader as g}from"https://cdn.skypack.dev/three@0.129.0/examples/jsm/loaders/GLTFLoader.js";import{gsap as u}from"https://cdn.skypack.dev/gsap";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&t(p)}).observe(document,{childList:!0,subtree:!0});function d(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=d(e);fetch(e.href,o)}})();const c=new s.PerspectiveCamera(10,window.innerWidth/window.innerHeight,.1,1e3);c.position.z=13;const l=new s.Scene;let r,a;const x=new g;x.load("/demon_bee_full_texture.glb",function(i){r=i.scene,l.add(r),a=new s.AnimationMixer(r),a.clipAction(i.animations[0]).play(),h()},function(i){},function(i){});const f=new s.WebGLRenderer({alpha:!0});f.setSize(window.innerWidth,window.innerHeight);document.getElementById("container3D").appendChild(f.domElement);const z=new s.AmbientLight(16777215,1.3);l.add(z);const w=new s.DirectionalLight(16777215,1);w.position.set(500,500,500);l.add(w);const y=()=>{requestAnimationFrame(y),f.render(l,c),a&&a.update(.02)};y();let m=[{id:"banner",position:{x:0,y:-1,z:0},rotation:{x:0,y:1.5,z:0}},{id:"intro",position:{x:1,y:-1,z:-5},rotation:{x:.5,y:-.5,z:0}},{id:"description",position:{x:-1,y:-1,z:-5},rotation:{x:0,y:.5,z:0}},{id:"contact",position:{x:1.6,y:-1.2,z:-5},rotation:{x:.3,y:-.5,z:0}}];const h=()=>{const i=document.querySelectorAll(".section");let n;i.forEach(t=>{t.getBoundingClientRect().top<=window.innerHeight/3&&(n=t.id)});let d=m.findIndex(t=>t.id==n);if(d>=0){let t=m[d];u.to(r.position,{x:t.position.x,y:t.position.y,z:t.position.z,duration:3,ease:"power1.out"}),u.to(r.rotation,{x:t.rotation.x,y:t.rotation.y,z:t.rotation.z,duration:3,ease:"power1.out"})}};window.addEventListener("scroll",()=>{r&&h()});window.addEventListener("resize",()=>{f.setSize(window.innerWidth,window.innerHeight),c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix()});
